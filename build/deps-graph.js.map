{"version":3,"sources":["../src/deps-graph.js"],"names":["DependencyGraph","constructor","modules","addModule","path","ast","table","push","dependencies","find","node","addDependency","startPath","endPath","startNode","endNode","Error"],"mappings":";;;;;AAAe,MAAMA,eAAN,CAAsB;AACnCC,gBAAc;AACZ,SAAKC,OAAL,GAAe,EAAf;AACD;;AAEDC,YAAUC,IAAV,EAAgBC,GAAhB,EAAqBC,KAArB,EAA4B;AAC1B,WAAO,KAAKJ,OAAL,CAAaK,IAAb,CAAkB;AACvBH,UADuB;AAEvBC,SAFuB;AAGvBC,WAHuB;AAIvBE,oBAAc;AAJS,KAAlB,CAAP;AAMD;;AAEDC,OAAKL,IAAL,EAAW;AACT,WAAO,KAAKF,OAAL,CAAaO,IAAb,CAAkBC,QAAQA,KAAKN,IAAL,KAAcA,IAAxC,CAAP;AACD;;AAEDO,gBAAcC,SAAd,EAAyBC,OAAzB,EAAkC;AAChC,UAAMC,YAAY,KAAKL,IAAL,CAAUG,SAAV,CAAlB;AACA,UAAMG,UAAU,KAAKN,IAAL,CAAUI,OAAV,CAAhB;;AAEA,QAAI,CAACC,SAAD,IAAc,CAACC,OAAnB,EAA4B;AAC1B,YAAM,IAAIC,KAAJ,CAAU,4BAAV,CAAN;AACD;;AAEDF,cAAUN,YAAV,CAAuBD,IAAvB,CAA4BQ,OAA5B;AACD;AA3BkC;kBAAhBf,e","file":"deps-graph.js","sourcesContent":["export default class DependencyGraph {\n  constructor() {\n    this.modules = [];\n  }\n\n  addModule(path, ast, table) {\n    return this.modules.push({\n      path,\n      ast,\n      table,\n      dependencies: []\n    });\n  }\n\n  find(path) {\n    return this.modules.find(node => node.path === path);\n  }\n\n  addDependency(startPath, endPath) {\n    const startNode = this.find(startPath);\n    const endNode = this.find(endPath);\n\n    if (!startNode || !endNode) {\n      throw new Error('Both modules need to exist');\n    }\n\n    startNode.dependencies.push(endNode);\n  }\n}\n"]}
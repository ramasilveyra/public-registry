{"version":3,"sources":["../../../src/tasks/Publish/extract-tarball.js"],"names":["tarballPath","destPath","stream","createReadStream","pipe","Unzip","extract","Promise","resolve","reject","err","extractTarball"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;+BAEe,WAA8BA,WAA9B,EAA2CC,QAA3C,EAAqD;AAClE,UAAMC,SAAS,aACZC,gBADY,CACKH,WADL,EAEZI,IAFY,CAEP,IAAI,eAAKC,KAAT,EAFO,EAGZD,IAHY,CAGP,gBAAIE,OAAJ,CAAYL,QAAZ,CAHO,CAAf;;AAKA,WAAO,IAAIM,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,iCAAIP,MAAJ,EAAY,eAAO;AACjB,YAAIQ,GAAJ,EAAS;AACP,iBAAOD,OAAOC,GAAP,CAAP;AACD;AACD,eAAOF,SAAP;AACD,OALD;AAMD,KAPM,CAAP;AAQD,G;;WAd6BG,c;;;;SAAAA,c","file":"extract-tarball.js","sourcesContent":["import fs from 'fs';\nimport end from 'end-of-stream';\nimport tar from 'tar-fs';\nimport zlib from 'zlib';\n\nexport default async function extractTarball(tarballPath, destPath) {\n  const stream = fs\n    .createReadStream(tarballPath)\n    .pipe(new zlib.Unzip())\n    .pipe(tar.extract(destPath));\n\n  return new Promise((resolve, reject) => {\n    end(stream, err => {\n      if (err) {\n        return reject(err);\n      }\n      return resolve();\n    });\n  });\n}\n"]}
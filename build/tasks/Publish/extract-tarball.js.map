{"version":3,"file":"extract-tarball.js","names":["extractTarball","tarballPath","destPath","stream","fs","createReadStream","pipe","zlib","Unzip","tar","extract","Promise","resolve","reject","end","err"],"sources":["../../../src/tasks/Publish/extract-tarball.js"],"sourcesContent":["import fs from 'fs';\nimport end from 'end-of-stream';\nimport tar from 'tar-fs';\nimport zlib from 'zlib';\n\nexport default async function extractTarball(tarballPath, destPath) {\n  const stream = fs\n    .createReadStream(tarballPath)\n    .pipe(new zlib.Unzip())\n    .pipe(tar.extract(destPath));\n\n  return new Promise((resolve, reject) => {\n    end(stream, err => {\n      if (err) {\n        return reject(err);\n      }\n      return resolve();\n    });\n  });\n}\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEe,eAAeA,cAAf,CAA8BC,WAA9B,EAA2CC,QAA3C,EAAqD;EAClE,MAAMC,MAAM,GAAGC,WAAA,CACZC,gBADY,CACKJ,WADL,EAEZK,IAFY,CAEP,IAAIC,aAAA,CAAKC,KAAT,EAFO,EAGZF,IAHY,CAGPG,cAAA,CAAIC,OAAJ,CAAYR,QAAZ,CAHO,CAAf;;EAKA,OAAO,IAAIS,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;IACtC,IAAAC,oBAAA,EAAIX,MAAJ,EAAYY,GAAG,IAAI;MACjB,IAAIA,GAAJ,EAAS;QACP,OAAOF,MAAM,CAACE,GAAD,CAAb;MACD;;MACD,OAAOH,OAAO,EAAd;IACD,CALD;EAMD,CAPM,CAAP;AAQD"}
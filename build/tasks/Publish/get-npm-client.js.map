{"version":3,"file":"get-npm-client.js","names":["cacheNpmClient","getNpmClient","useYarn","shouldUseYarn","npmClient","execa","e"],"sources":["../../../src/tasks/Publish/get-npm-client.js"],"sourcesContent":["import execa from 'execa';\n\nlet cacheNpmClient = null;\n\nexport default async function getNpmClient() {\n  if (cacheNpmClient) {\n    return cacheNpmClient;\n  }\n\n  const useYarn = await shouldUseYarn();\n  const npmClient = useYarn ? 'yarn' : 'npm';\n  cacheNpmClient = npmClient;\n\n  return npmClient;\n}\n\nasync function shouldUseYarn() {\n  try {\n    await execa('yarn', ['--version']);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n"],"mappings":";;;;;;;AAAA;;;;AAEA,IAAIA,cAAc,GAAG,IAArB;;AAEe,eAAeC,YAAf,GAA8B;EAC3C,IAAID,cAAJ,EAAoB;IAClB,OAAOA,cAAP;EACD;;EAED,MAAME,OAAO,GAAG,MAAMC,aAAa,EAAnC;EACA,MAAMC,SAAS,GAAGF,OAAO,GAAG,MAAH,GAAY,KAArC;EACAF,cAAc,GAAGI,SAAjB;EAEA,OAAOA,SAAP;AACD;;AAED,eAAeD,aAAf,GAA+B;EAC7B,IAAI;IACF,MAAM,IAAAE,cAAA,EAAM,MAAN,EAAc,CAAC,WAAD,CAAd,CAAN;IACA,OAAO,IAAP;EACD,CAHD,CAGE,OAAOC,CAAP,EAAU;IACV,OAAO,KAAP;EACD;AACF"}